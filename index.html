<!DOCTYPE html>
<html lang="ko" class="">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>삼성전자 OPI 주식보상 시뮬레이터</title>
    <meta name="description" content="삼성전자 OPI 성과급 주식보상 비율 최적화 시뮬레이터. 다양한 시나리오를 비교하고 최적의 비율을 찾아보세요.">

    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    colors: {
                        samsung: {
                            blue: '#1428a0',
                            light: '#4a5fc1',
                            dark: '#0d1a6b'
                        }
                    },
                    fontFamily: {
                        sans: ['Pretendard', '-apple-system', 'BlinkMacSystemFont', 'Segoe UI', 'sans-serif']
                    }
                }
            }
        }
    </script>

    <!-- Chart.js CDN -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <!-- Pretendard Font -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.9/dist/web/static/pretendard.min.css">

    <style>
        /* Custom scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
            height: 8px;
        }
        ::-webkit-scrollbar-track {
            background: transparent;
        }
        ::-webkit-scrollbar-thumb {
            background: #cbd5e1;
            border-radius: 4px;
        }
        .dark ::-webkit-scrollbar-thumb {
            background: #475569;
        }

        /* Smooth transitions */
        * {
            transition-property: background-color, border-color, color;
            transition-duration: 150ms;
        }

        /* Range slider custom style */
        input[type="range"] {
            -webkit-appearance: none;
            appearance: none;
            height: 8px;
            border-radius: 4px;
            background: #e2e8f0;
        }
        .dark input[type="range"] {
            background: #374151;
        }
        input[type="range"]::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 24px;
            height: 24px;
            border-radius: 50%;
            background: linear-gradient(135deg, #1428a0, #4a5fc1);
            cursor: pointer;
            box-shadow: 0 2px 6px rgba(20, 40, 160, 0.3);
        }
        input[type="range"]::-moz-range-thumb {
            width: 24px;
            height: 24px;
            border-radius: 50%;
            background: linear-gradient(135deg, #1428a0, #4a5fc1);
            cursor: pointer;
            border: none;
        }

        /* Table responsive */
        .table-wrapper {
            overflow-x: auto;
            -webkit-overflow-scrolling: touch;
        }

        /* Loading spinner */
        .spinner {
            border: 3px solid #f3f3f3;
            border-top: 3px solid #1428a0;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>
<body class="bg-gray-50 dark:bg-gray-900 text-gray-900 dark:text-gray-100 min-h-screen">
    <!-- Loading Overlay -->
    <div id="loading" class="hidden fixed inset-0 bg-white/80 dark:bg-gray-900/80 z-50 flex items-center justify-center">
        <div class="text-center">
            <div class="spinner mx-auto mb-4"></div>
            <p class="text-gray-600 dark:text-gray-400">계산 중...</p>
        </div>
    </div>

    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
        <!-- Header -->
        <header class="text-center mb-10">
            <div class="flex justify-end mb-4">
                <button id="dark-mode-toggle" class="p-2 rounded-lg bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600 transition-colors" aria-label="다크모드 토글">
                    <svg class="w-6 h-6 hidden dark:block" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"></path>
                    </svg>
                    <svg class="w-6 h-6 block dark:hidden" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"></path>
                    </svg>
                </button>
            </div>
            <h1 class="text-3xl sm:text-4xl font-bold bg-gradient-to-r from-samsung-blue to-samsung-light bg-clip-text text-transparent mb-3">
                삼성전자 OPI 주식보상 시뮬레이터
            </h1>
            <p class="text-gray-600 dark:text-gray-400 max-w-2xl mx-auto">
                OPI 성과급의 주식보상 비율에 따른 예상 수령액을 비교하고, 최적의 비율을 찾아보세요.
            </p>
        </header>

        <!-- Input Section -->
        <section class="bg-white dark:bg-gray-800 rounded-2xl shadow-lg p-6 sm:p-8 mb-8">
            <h2 class="text-xl font-bold mb-6 flex items-center gap-2">
                <span class="w-8 h-8 bg-samsung-blue/10 dark:bg-samsung-light/20 rounded-lg flex items-center justify-center text-samsung-blue dark:text-samsung-light">
                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 7h6m0 10v-3m-3 3h.01M9 17h.01M9 14h.01M12 14h.01M15 11h.01M12 11h.01M9 11h.01M7 21h10a2 2 0 002-2V5a2 2 0 00-2-2H7a2 2 0 00-2 2v14a2 2 0 002 2z"></path>
                    </svg>
                </span>
                기본 정보 입력
            </h2>

            <form id="simulator-form" class="space-y-6">
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <!-- 계약연봉 -->
                    <div>
                        <label for="annual-salary" class="block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2">
                            계약연봉 (원)
                        </label>
                        <input type="text" id="annual-salary" inputmode="numeric"
                               class="w-full px-4 py-3 border border-gray-200 dark:border-gray-700 rounded-xl bg-gray-50 dark:bg-gray-900 focus:ring-2 focus:ring-samsung-blue focus:border-transparent outline-none transition"
                               placeholder="예: 150,000,000" required>
                        <p class="mt-1 text-xs text-gray-500 dark:text-gray-400">세전 연봉 전체 금액</p>
                    </div>

                    <!-- OPI 비율 -->
                    <div>
                        <label for="opi-rate" class="block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2">
                            예상 OPI 비율
                        </label>
                        <div class="flex items-center gap-4">
                            <input type="range" id="opi-rate" min="0" max="50" value="25" step="5"
                                   class="flex-1 h-2 cursor-pointer">
                            <output id="opi-rate-value" class="w-16 text-center text-lg font-bold text-samsung-blue dark:text-samsung-light">25%</output>
                        </div>
                        <p class="mt-1 text-xs text-gray-500 dark:text-gray-400">0% ~ 50% (회사 성과에 따라)</p>
                    </div>

                    <!-- 기준주가 -->
                    <div>
                        <label for="base-price" class="block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2">
                            기준주가 (원)
                        </label>
                        <input type="text" id="base-price" inputmode="numeric"
                               class="w-full px-4 py-3 border border-gray-200 dark:border-gray-700 rounded-xl bg-gray-50 dark:bg-gray-900 focus:ring-2 focus:ring-samsung-blue focus:border-transparent outline-none transition"
                               placeholder="예: 55,000" required>
                        <p class="mt-1 text-xs text-gray-500 dark:text-gray-400">OPI 지급 시점의 기준 주가</p>
                    </div>

                    <!-- 미래 예상 주가 -->
                    <div>
                        <label for="future-price" class="block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2">
                            미래 예상 주가 (원)
                        </label>
                        <input type="text" id="future-price" inputmode="numeric"
                               class="w-full px-4 py-3 border border-gray-200 dark:border-gray-700 rounded-xl bg-gray-50 dark:bg-gray-900 focus:ring-2 focus:ring-samsung-blue focus:border-transparent outline-none transition"
                               placeholder="예: 70,000" required>
                        <p class="mt-1 text-xs text-gray-500 dark:text-gray-400">1년 후 예상 주가 (보유 종료 시점)</p>
                    </div>
                </div>

                <button type="submit" class="w-full bg-gradient-to-r from-samsung-blue to-samsung-light text-white font-semibold py-4 px-6 rounded-xl hover:opacity-90 active:scale-[0.98] transition-all shadow-lg shadow-samsung-blue/25">
                    시뮬레이션 실행
                </button>
            </form>
        </section>

        <!-- Results Section (Hidden by default) -->
        <section id="results" class="hidden space-y-8">
            <!-- Summary Cards -->
            <div class="grid grid-cols-1 sm:grid-cols-3 gap-4 sm:gap-6">
                <!-- 50% 선택 시 차이 -->
                <div class="bg-gradient-to-br from-samsung-blue to-samsung-light text-white rounded-2xl p-6 shadow-lg">
                    <h3 class="text-sm font-medium opacity-80 mb-1">50% 선택 시 차이</h3>
                    <div id="stock-difference" class="text-4xl font-bold">-</div>
                    <p class="text-xs opacity-70 mt-2">현금 대비</p>
                </div>

                <!-- OPI 지급액 -->
                <div class="bg-white dark:bg-gray-800 rounded-2xl p-6 shadow-lg border border-gray-100 dark:border-gray-700">
                    <h3 class="text-sm font-medium text-gray-500 dark:text-gray-400 mb-1">OPI 지급액 (세전)</h3>
                    <div id="opi-amount" class="text-3xl font-bold text-gray-900 dark:text-white">-</div>
                </div>

                <!-- 최대 수령액 -->
                <div class="bg-white dark:bg-gray-800 rounded-2xl p-6 shadow-lg border border-gray-100 dark:border-gray-700">
                    <h3 class="text-sm font-medium text-gray-500 dark:text-gray-400 mb-1">최대 수령액 (1년 후)</h3>
                    <div id="max-total" class="text-3xl font-bold text-green-600 dark:text-green-400">-</div>
                </div>
            </div>

            <!-- 비율별 비교 테이블 -->
            <div class="bg-white dark:bg-gray-800 rounded-2xl shadow-lg p-6 sm:p-8">
                <h2 class="text-xl font-bold mb-6 flex items-center gap-2">
                    <span class="w-8 h-8 bg-indigo-100 dark:bg-indigo-900/30 rounded-lg flex items-center justify-center text-indigo-600 dark:text-indigo-400">
                        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"></path>
                        </svg>
                    </span>
                    주식보상 비율별 비교
                </h2>
                <div class="table-wrapper">
                    <table id="comparison-table" class="w-full text-sm">
                        <thead>
                            <tr class="text-xs uppercase text-gray-500 dark:text-gray-400 bg-gray-50 dark:bg-gray-700/50">
                                <th class="px-4 py-3 text-left font-semibold">비율</th>
                                <th class="px-4 py-3 text-right font-semibold">주식수</th>
                                <th class="px-4 py-3 text-right font-semibold">추가혜택(15%)</th>
                                <th class="px-4 py-3 text-right font-semibold">주식가치(1년후)</th>
                                <th class="px-4 py-3 text-right font-semibold">과세소득</th>
                                <th class="px-4 py-3 text-right font-semibold">세금</th>
                                <th class="px-4 py-3 text-right font-semibold">세후 실수령</th>
                            </tr>
                        </thead>
                        <tbody class="divide-y divide-gray-200 dark:divide-gray-700">
                            <!-- Dynamically populated -->
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Charts Grid -->
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                <!-- 비율별 총 수령액 차트 -->
                <div class="bg-white dark:bg-gray-800 rounded-2xl shadow-lg p-6">
                    <h3 class="text-lg font-bold mb-4">비율별 총 수령액 비교</h3>
                    <div class="h-80">
                        <canvas id="ratio-chart"></canvas>
                    </div>
                </div>

                <!-- 주가 시나리오 차트 -->
                <div class="bg-white dark:bg-gray-800 rounded-2xl shadow-lg p-6">
                    <h3 class="text-lg font-bold mb-4">주가 시나리오별 수익 분석</h3>
                    <div class="h-80">
                        <canvas id="price-scenario-chart"></canvas>
                    </div>
                </div>
            </div>

            <!-- 주가 시나리오 테이블 -->
            <div class="bg-white dark:bg-gray-800 rounded-2xl shadow-lg p-6 sm:p-8">
                <h2 class="text-xl font-bold mb-2 flex items-center gap-2">
                    <span class="w-8 h-8 bg-green-100 dark:bg-green-900/30 rounded-lg flex items-center justify-center text-green-600 dark:text-green-400">
                        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"></path>
                        </svg>
                    </span>
                    주가 변동 시나리오 분석
                </h2>
                <p class="text-sm text-gray-500 dark:text-gray-400 mb-6">주가 변동에 따른 최적 비율 변화</p>
                <div class="table-wrapper">
                    <table id="price-scenario-table" class="w-full text-sm">
                        <thead>
                            <tr class="text-xs uppercase text-gray-500 dark:text-gray-400 bg-gray-50 dark:bg-gray-700/50">
                                <th class="px-3 py-2 text-left font-semibold">변동</th>
                                <th class="px-3 py-2 text-right font-semibold">주가</th>
                                <th class="px-3 py-2 text-right font-semibold">0%</th>
                                <th class="px-3 py-2 text-right font-semibold">10%</th>
                                <th class="px-3 py-2 text-right font-semibold">20%</th>
                                <th class="px-3 py-2 text-right font-semibold">30%</th>
                                <th class="px-3 py-2 text-right font-semibold">40%</th>
                                <th class="px-3 py-2 text-right font-semibold">50%</th>
                                <th class="px-3 py-2 text-right font-semibold">최적</th>
                            </tr>
                        </thead>
                        <tbody class="divide-y divide-gray-200 dark:divide-gray-700">
                            <!-- Dynamically populated -->
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- 세금 비교 -->
            <div class="bg-white dark:bg-gray-800 rounded-2xl shadow-lg p-6 sm:p-8">
                <h2 class="text-xl font-bold mb-6 flex items-center gap-2">
                    <span class="w-8 h-8 bg-amber-100 dark:bg-amber-900/30 rounded-lg flex items-center justify-center text-amber-600 dark:text-amber-400">
                        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                        </svg>
                    </span>
                    세금 영향 분석
                </h2>
                <div id="tax-comparison">
                    <!-- Dynamically populated -->
                </div>
            </div>
        </section>

        <!-- Footer -->
        <footer class="mt-12 text-center text-sm text-gray-500 dark:text-gray-400 space-y-1">
            <p>* 본 시뮬레이터는 참고용이며, 실제 결과와 다를 수 있습니다.</p>
            <p>* 세금 계산은 2025년 기준 4대보험 및 소득세 누진세율을 적용합니다.</p>
            <p>* 주식 보유 기간: 1년 (의무 보유)</p>
            <p class="pt-4 text-gray-400 dark:text-gray-600">
                Made with by Samsung Employee | 2025
            </p>
        </footer>
    </div>

    <!-- Scripts -->
    <script src="js/calculator.js"></script>
    <script src="js/chart.js"></script>
    <script src="js/ui.js"></script>
    <script src="js/main.js"></script>
</body>
</html>
